<!doctype html>
<html>
  <head>
    <title>OMGThemes!</title>
    <meta name="description" content="An Xcode theme repository">
    <link rel="stylesheet" href="omgthemes.css">
    <meta name="viewport" content="width=device-width">
  </head>
  <body>
    <footer>To contribute a theme to <b>OMGThemes!</b> simply <a href='https://github.com/mxcl/omgthemes'>fork</a>, push and wait five minutes (we scan the <em>entire</em> fork network).</footer>
  </body>
  <script type="text/template" class="theme">
    <pre class="<%- css %>">
      <code>
        <i class='comment'>// <%- name %></i>
        <i class='comment'>// <a class='inherit' href='<%- url %>'><%- url %></a></i>

        <i class='preprocessor'>#import</i> <i class='string'>&lt;UIKit/UIKit.h&gt;</i>

        <i class='keyword'>@interface</i> <%- camelname %>Theme : <i class=class>NSObject</i> {
            <i class='class'>NSString</i> *ivar;
        }

        - (<i class='class'>NSString</i> *)method:(<i class='keyword'>id</i>)parameter;

        <i class='keyword'>@property</i> (<i class='keyword'>nonatomic</i>) <i class='class'>NSString</i> *property;
        <i class='keyword'>@end</i>


        <i class='keyword'>@implementation</i> <%- camelname %>Theme

        - (<i class='class'>NSString</i> *)method:(<i class='keyword'>id</i>)parameter {
            <i class='ivar'>ivar</i> = parameter;
            <i class='keyword'>for</i> (<i class='keyword'>int</i> x = <i class=number>0</i>; x &lt; <i class='number'>123</i>; ++x) {
                <i class='function'>NSLog</i>(<i class='string'>@"%@"</i>, foo[x]);
            }
        }

        <i class='keyword'>@end</i>

        <i class='comment'>// mkdir -p ~/Library/Developer/Xcode/UserData/FontAndColorThemes \
           && curl <%- raw %> \
           > ~/Library/Developer/Xcode/UserData/FontAndColorThemes/"<%- name %>.dvtcolortheme"</i>
      </code>
    </pre>
  </script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>

  <script>
    var templater = _.template($("script.theme").html());

    $.get('themes.json').done(function(themes){
      _(themes).each(function(theme){
        var name = theme.fork+'_'+theme.name;
        var css = name+'.css';

        theme.url = 'https://github.com/' + theme.fork + '/omgthemes/blob/master/' + encodeURI(theme.raw);
        theme.raw = 'https://raw.github.com/' + theme.fork + '/omgthemes/master/' + encodeURI(theme.raw);
        theme.css = name.replace(/[%() ]/g, '');  // need a valid selector name
        theme.camelname = theme.name.replace(/[^a-zA-Z0-9_]/g, '');

        $('<link>').appendTo($('head')).attr({type: 'text/css', rel: 'stylesheet'}).attr('href', css);
        $('body').append(templater(theme));
      });
    });
  </script>
</html>
